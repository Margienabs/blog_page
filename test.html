<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Client Data</title>
    <style>
        .page-links {
            margin-right: 10px
        }
    </style>
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script>
      $(function(){
          var size = 2;
        $.get("http://localhost:4000/api/allData", function(response){
            if(response.success){
                var links = Math.ceil(response.message.length/size);
                $("#paging").children("a").remove();
                for(var i=0; i<links;i++){
                    let id= i+1;
                    $("<a class='page-links' data-id="+id+">").attr("href","#").text(id).appendTo("#paging");
                }
            }
        })
        $(document).on("click", ".page-links", function(e){
            e.preventDefault();
            var page = $(this).attr("data-id");
            $.get("http://localhost:4000/api/allData?pageNo="+page+"&size="+size, function(response){
                if(response.success){
                    var ul = $('#main ul').empty();
                    $.each(response.message, function(prop, val) {
                        $("<li>").text(val.content).appendTo(ul); // ?
                    });
                }
            })
        })
    })
  </script>
</head>
<body>
    <h1>Please fill data in the form below:</h1>
    <form method="POST" action="/post-feedback">
        <label>Name:<input type="text" name="title" required></label>
        <br>
        <label>Email:<input type="text" name="client-email" required></label>
        <br>
        <label>Comment:<br><textarea name="content"></textarea></label>
        <br>
        <input type="submit" value="Submit">
    </form>
    <a href="/view-feedbacks">View feedbacks</a>

    <div id="main">
        <ul>
            <li>a</li>
            <li>a</li>
        </ul>
    </div>
    <div id="paging"></div>
</body>
</html>